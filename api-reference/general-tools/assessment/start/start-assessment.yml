openapi: 3.0.3
info:
  title: Assessment APIs
  version: 1.0.0
servers:
  - url: https://api.eka.care

paths:
  /assessments/api/v1/start/{hash}:
    put:
      tags:
        - Assessments > Start
      summary: Start the assessment
      description: >-
        This API is used to Start the assessment. It returns the first question of the assessment.
        <Tip>Use this API to get the first question.</Tip>
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                start_assessment: True
              description: >-
                The request body must contain this key-value pair

                ```json

                {
                  "start_assessment": true
                }

                ```
      parameters:
        - name: auth
          in: header
          required: True
          description: >-
            The auth token of the user. It is used to authenticate the user.
          schema:
            type: string
          example: >-
            eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJiX2lkIjoiMTIzNDU2IiwiY2xpZW50X2lkIjoiNzg5MCIsImV4dHJhX2ZpZWxkIjoiZXh0cmFfZmllbGRfZGF0YSJ9.q9KzBI6f4l3OyM_EkB5Quq0l9EEMFh5JS-fx3F_PHUM
        - name: client_id
          in: header
          required: True
          description: >-
            The client id of the user. It is used to identify the user.
          schema:
            type: string
          example: application/json
        - name: locale
          in: header
          description: >-
            The locale of the user. It is used to determine the language of the assessment. Supported locales are `en`, `hi`, `kn` for english, hindi and kannada respectively. Default value is `en`.
          schema:
            type: string
          example: en
        - name: Content-Type
          in: header
          description: >-
            The content type of the request. It is used to determine the type of data being sent.
          schema:
            type: string
          example: application/json
      responses:
        '200':
          description: OK
          headers:
            Date:
              schema:
                type: string
                example: Mon, 12 Aug 2024 07:41:05 GMT
            Server:
              schema:
                type: number
                example: WSGIServer/0.2 CPython/3.9.17
            Content-Type:
              schema:
                type: string
                example: application/json
            Vary:
              schema:
                type: string
                example: Accept, Cookie, origin
            Allow:
              schema:
                type: string
                example: POST, OPTIONS
            X-Frame-Options:
              schema:
                type: string
                example: DENY
            Content-Length:
              schema:
                type: integer
                example: '51'
            X-Content-Type-Options:
              schema:
                type: string
                example: nosniff
            Referrer-Policy:
              schema:
                type: string
                example: same-origin
            Cross-Origin-Opener-Policy:
              schema:
                type: string
                example: same-origin
          content:
            application/json:
              schema:
                type: object
              example:
                question:
                  id: 0
                  comp: I-ATSG
                  url:
                    base_url: https://mdb.eka.care/v1/sa-terms
                    query_params:
                      gen: M
                      age: 20
                    text: Add all symptoms.
                    resp: []
                    details:
                      static sections:
                      - heading: Most Searched
                        items:
                        - id: 47258974-a65c-11eb-8d02-1e003a340630
                          label: Fever
                        - id: 473f9e54-a65c-11eb-8d02-1e003a340630
                          label: Constipation
                        - id: 471e8e62-a65c-11eb-8d02-1e003a340630
                          label: Cough
                        - id: 476efd70-a65c-11eb-8d02-1e003a340630
                          label: Acidity
                        - id: 4736971e-a65c-11eb-8d02-1e003a340630
                          label: Diarrhoea
                        - id: 4737ee0c-a65c-11eb-8d02-1e003a340630
                          label: Vomiting
                        - id: 4720607a-a65c-11eb-8d02-1e003a340630
                          label: Headache
                        - id: 47172c6c-a65c-11eb-8d02-1e003a340630
                          label: Stomach ache
                is_mandantory: true
                progress: 0.0
        '5XX':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
              example:
                error:
                  error_code: bad_request
                  display_message: "Something went wrong. Please try again."
                  message: Bad Request
