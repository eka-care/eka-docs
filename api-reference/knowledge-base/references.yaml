openapi: 3.1.0
info:
   title: MCP Eka Assist API
   description: Eka Assist documentation
   version: 1.0.0
   contact:
      name: Nikhil
      url: https://eka.care/
      email: nikhil.kasukurthi@eka.care
tags:
-  name: protocols
-  name: medications
-  name: pharmacology
-  name: snomed
paths:
   /eka-mcp/protocols/v1/search:
      post:
         summary: Search Protocols
         description: This endpoint returns pages from the protocols based on the
            query, publishers and tag.
         tags:
         - protocols
         parameters: []
         responses:
            '200':
               description: OK
               content:
                  application/json:
                     schema:
                        $ref: '#/components/schemas/ProtocolList.a9993e3'
            '500':
               description: Internal Server Error
               content:
                  application/json:
                     schema:
                        $ref: '#/components/schemas/GenericErr.82b01e4'
            '403':
               description: Forbidden
               content:
                  application/json:
                     schema:
                        $ref: '#/components/schemas/GenericErr.82b01e4'
         requestBody:
            content:
               application/json:
                  schema:
                     $ref: '#/components/schemas/QueryProtocols.b6c8896'
   /eka-mcp/protocols/v1/publishers/all:
      get:
         summary: Get all Publishers
         description: This endpoint returns a list of all protocols publishers
         tags:
         - protocols
         responses:
            '200':
               description: OK
               content:
                  application/json:
                     schema:
                        $ref: '#/components/schemas/ProtocolPublishers.e57b7a5'
            '500':
               description: Internal Server Error
               content:
                  application/json:
                     schema:
                        $ref: '#/components/schemas/GenericErr.82b01e4'
            '403':
               description: Forbidden
               content:
                  application/json:
                     schema:
                        $ref: '#/components/schemas/GenericErr.82b01e4'
   /eka-mcp/medications/v1/search:
      get:
         summary: Search Medications
         description: 'This endpoint returns suggested/similar drugs from the Eka
            medical database for the given parameters - drug name, generics, form
            or volume.

            Suggestions are ranked based on similarity and also popularity (custom
            eka metric) of the medicine'
         tags:
         - medications
         parameters:
         -  name: drug_name
            in: query
            schema:
               anyOf:
               -  type: string
               -  type: 'null'
               default: null
               description: The segmented branded name of the medicine like Glim 1mg
               title: Drug Name
            required: false
            description: The segmented branded name of the medicine like Glim 1mg
         -  name: form
            in: query
            schema:
               anyOf:
               -  type: string
               -  type: 'null'
               default: null
               description: The form of the medicine like Tablet, Syrup
               title: Form
            required: false
            description: The form of the medicine like Tablet, Syrup
         -  name: generic_names
            in: query
            schema:
               anyOf:
               -  type: string
               -  type: 'null'
               default: null
               description: The generic name of the medicine like 'Glimeperide', 'Metformin'.
                  In case of compound generics, pass the name only with comma separated
                  like Glimeperide, Metformin
               title: Generic Names
            required: false
            description: The generic name of the medicine like 'Glimeperide', 'Metformin'.
               In case of compound generics, pass the name only with comma separated
               like Glimeperide,Metformin
         -  name: volumes
            in: query
            schema:
               anyOf:
               -  type: string
               -  type: 'null'
               default: null
               description: The volume of the drug name or generic composition like
                  '650','1000','500'
               title: Volumes
            required: false
            description: The volume of the drug name or generic composition like '650','1000','500'
         responses:
            '200':
               description: OK
               content:
                  application/json:
                     schema:
                        $ref: '#/components/schemas/MedicationList.a9993e3'
            '500':
               description: Internal Server Error
               content:
                  application/json:
                     schema:
                        $ref: '#/components/schemas/GenericErr.82b01e4'
            '403':
               description: Forbidden
               content:
                  application/json:
                     schema:
                        $ref: '#/components/schemas/GenericErr.82b01e4'
   /eka-mcp/pharmacology/v1/autocomplete:
      get:
         summary: Get Drug Names for Autocomplete
         description: 'This endpoint returns lists of generic and brand drug names for autocomplete purposes.

            Returns:
            - generic_names: List of generic drug names
            - brand_names: List of brand drug names (if available)
            - compound_drugs: List of compound drug names containing multiple components'
         tags:
         - pharmacology
         parameters:
         -  name: query
            in: query
            schema:
               anyOf:
               -  type: string
               -  type: 'null'
               default: null
               description: Text to filter drug names (optional)
               title: Query
            required: false
            description: Text to filter drug names (optional)
         -  name: limit
            in: query
            schema:
               anyOf:
               -  type: integer
               -  type: 'null'
               default: 100
               description: Maximum number of results to return
               title: Limit
            required: false
            description: Maximum number of results to return
         responses:
            '200':
               description: OK
               content:
                  application/json:
                     schema:
                        $ref: '#/components/schemas/AutocompleteResponse.a9993e3'
            '500':
               description: Internal Server Error
               content:
                  application/json:
                     schema:
                        $ref: '#/components/schemas/GenericErr.82b01e4'
            '403':
               description: Forbidden
               content:
                  application/json:
                     schema:
                        $ref: '#/components/schemas/GenericErr.82b01e4'
   /eka-mcp/pharmacology/v1/search:
      get:
         summary: Get Generic (pharmacology) Information
         tags:
         - pharmacology
         parameters:
         -  name: query
            in: query
            schema:
               anyOf:
               -  type: string
               -  type: 'null'
               default: null
               description: Text to search for across all fields. Can be a single drug name (e.g., 'Rifampicin') or compound drugs (e.g., 'Rifampicin + Isoniazid')
               title: Query
            required: false
            description: Text to search for across all fields. Can be a single drug name (e.g., 'Rifampicin') or compound drugs (e.g., 'Rifampicin + Isoniazid')
         -  name: category
            in: query
            schema:
               anyOf:
               -  type: string
               -  type: 'null'
               default: null
               description: Filter by category (e.g., 'Antibiotics', 'Analgesics')
               title: Category
            required: false
            description: Filter by category (e.g., 'Antibiotics', 'Analgesics')
         -  name: limit
            in: query
            schema:
               anyOf:
               -  type: integer
               -  type: 'null'
               default: 10
               description: Maximum number of results to return
               title: Limit
            required: false
            description: Maximum number of results to return
         -  name: exact_match
            in: query
            schema:
               anyOf:
               -  type: boolean
               -  type: 'null'
               default: false
               description: If true, only return exact matches for the query
               title: Exact Match
            required: false
            description: If true, only return exact matches for the query
         -  name: relevance_threshold
            in: query
            schema:
               anyOf:
               -  type: integer
               -  type: 'null'
               default: 100
               description: Minimum relevance score for results (higher = more strict filtering)
               title: Relevance Threshold
            required: false
            description: Minimum relevance score for results (higher = more strict filtering)
         responses:
            '200':
               description: OK
               content:
                  application/json:
                     schema:
                        $ref: '#/components/schemas/PharmacologySearchResponse.a9993e3'
            '500':
               description: Internal Server Error
               content:
                  application/json:
                     schema:
                        $ref: '#/components/schemas/GenericErr.82b01e4'
            '403':
               description: Forbidden
               content:
                  application/json:
                     schema:
                        $ref: '#/components/schemas/GenericErr.82b01e4'
   /eka-mcp/linking/v1/snomed:
      get:
         summary: Get SNOMED ID
         description: Link SNOMED ID for the given text
         tags:
         - snomed
         parameters:
         -  name: text_to_link
            in: query
            schema:
               type: array
               items:
                  type: string
               description: Array of text strings to link to SNOMED codes (e.g., ["dm2", "htn"])
               title: Text to Link
            required: true
            description: Array of text strings to link to SNOMED codes (e.g., ["dm2", "htn"])
         responses:
            '200':
               description: OK
               content:
                  application/json:
                     schema:
                        $ref: '#/components/schemas/SNOMEDLinkingList.a9993e3'
            '500':
               description: Internal Server Error
               content:
                  application/json:
                     schema:
                        $ref: '#/components/schemas/GenericErr.82b01e4'
            '403':
               description: Forbidden
               content:
                  application/json:
                     schema:
                        $ref: '#/components/schemas/GenericErr.82b01e4'
components:
   schemas:
      TagList.a9993e3:
         items:
            $ref: '#/components/schemas/TagList.a9993e3.Tag'
         title: TagList
         type: array
      GenericErr.82b01e4:
         properties:
            error:
               title: Error
               type: string
         required:
         - error
         title: GenericErr
         type: object
      ValidationError.6a07bef:
         title: ValidationError
         description: Model of a validation error response.
         type: array
         items:
            $ref: '#/components/schemas/ValidationError.6a07bef.ValidationErrorElement'
      QueryProtocols.b6c8896:
         properties:
            queries:
               description: List of non overlapping distinct queries to search for
                  protocols
               items:
                  $ref: '#/components/schemas/QueryProtocols.b6c8896.Protocol'
               title: Queries
               type: array
         required:
         - queries
         title: QueryProtocols
         type: object
      ProtocolList.a9993e3:
         items:
            $ref: '#/components/schemas/ProtocolList.a9993e3.Protocol'
         title: ProtocolList
         type: array
      ProtocolPublisher.b6c8896:
         properties:
            tag:
               default: null
               description: The tag/condition for which the publisher is being fetched
               title: Tag
               type: string
         title: ProtocolPublisher
         type: object
      ProtocolPublishers.e57b7a5:
         items:
            type: string
         title: ProtocolPublishers
         type: array
      MedicationUnderstanding.b6c8896:
         properties:
            drug_name:
               anyOf:
               -  type: string
               -  type: 'null'
               default: null
               description: The segmented branded name of the medicine like Glim 1mg
               title: Drug Name
            form:
               anyOf:
               -  type: string
               -  type: 'null'
               default: null
               description: The form of the medicine like Tablet, Syrup
               title: Form
            generic_names:
               anyOf:
               -  type: string
               -  type: 'null'
               default: null
               description: The generic name of the medicine like 'Glimeperide', 'Metformin'.
                  In case of compound generics, pass the name only with comma separated
                  like Glimeperide, Metformin
               title: Generic Names
            volumes:
               anyOf:
               -  type: string
               -  type: 'null'
               default: null
               description: The volume of the drug name or generic composition like
                  '650','1000','500'
               title: Volumes
         title: MedicationUnderstanding
         type: object
      MedicationList.a9993e3:
         items:
            $ref: '#/components/schemas/MedicationList.a9993e3.Medication'
         title: MedicationList
         type: array
      TagList.a9993e3.Tag:
         properties:
            tag_id:
               title: Tag Id
               type: string
            text:
               title: Text
               type: string
            detail:
               anyOf:
               -  type: string
               -  type: 'null'
               default: null
               title: Detail
         required:
         - tag_id
         - text
         title: Tag
         type: object
      ValidationError.6a07bef.ValidationErrorElement:
         title: ValidationErrorElement
         description: Model of a validation error response element.
         type: object
         properties:
            loc:
               title: Missing field name
               type: array
               items:
                  type: string
            msg:
               title: Error message
               type: string
            type:
               title: Error type
               type: string
            ctx:
               title: Error context
               type: object
         required:
         - loc
         - msg
         - type
      QueryProtocols.b6c8896.Protocol:
         properties:
            query:
               description: Concise and exact sentence to search. Do not use when,
                  where, how, etc.
               title: Query
               type: string
            tag:
               description: The tag/condition basis which the protocols database should
                  be filtered
               title: Tag
               type: string
            publisher:
               description: The name of the publisher. Cannot be assumed unless specified
                  in the query by the user or selected from output of get_protocol_publishers
               title: Publisher
               type: string
         required:
         - query
         - tag
         - publisher
         title: Protocol
         type: object
      ProtocolList.a9993e3.Protocol:
         properties:
            url:
               anyOf:
               -  type: string
               -  type: 'null'
               default: null
               title: Url
            source_url:
               anyOf:
               -  type: string
               -  type: 'null'
               default: null
               title: Source Url
            type:
               anyOf:
               -  enum:
                  - image
                  - pdf
                  type: string
               -  type: 'null'
               default: null
               title: Type
            author:
               anyOf:
               -  type: string
               -  type: 'null'
               default: null
               title: Author
            publication_year:
               anyOf:
               -  type: integer
               -  type: 'null'
               default: null
               title: Publication Year
            conditions:
               anyOf:
               -  items:
                     type: string
                  type: array
               -  type: 'null'
               default: null
               title: Conditions
         title: Protocol
         type: object
      MedicationList.a9993e3.Medication:
         properties:
            name:
               title: Name
               type: string
            generic_name:
               anyOf:
               -  type: string
               -  type: 'null'
               title: Generic Name
            manufacturer_name:
               anyOf:
               -  type: string
               -  type: 'null'
               title: Manufacturer Name
            product_type:
               anyOf:
               -  type: string
               -  type: 'null'
               title: Product Type
         required:
         - name
         - generic_name
         - manufacturer_name
         - product_type
         title: Medication
         type: object
      AutocompleteResponse.a9993e3:
         type: object
         additionalProperties:
            type: array
            items:
               type: string
         title: AutocompleteResponse
      PharmacologySearchResponse.a9993e3:
         properties:
            results:
               items:
                  $ref: '#/components/schemas/PharmacologyEntry.a9993e3'
               type: array
               title: Results
            search_info:
               additionalProperties: true
               type: object
               title: Search Info
               default: {}
         required:
         - results
         title: PharmacologySearchResponse
         type: object
      PharmacologyEntry.a9993e3:
         properties:
            generic_name:
               type: string
               title: Generic Name
               description: The generic name of the drug
            components:
               items:
                  type: string
               type: array
               title: Components
               description: Array of active components
            is_compound:
               type: boolean
               title: Is Compound
               description: Boolean indicating if it's a compound drug
            page_number:
               anyOf:
               -  type: integer
               -  type: 'null'
               title: Page Number
               description: NFI page number reference
            reference_page_number:
               anyOf:
               -  type: integer
               -  type: 'null'
               title: Reference Page Number
               description: Reference page number if applicable
            has_references:
               anyOf:
               -  type: integer
               -  type: 'null'
               title: Has References
               description: Indicates if drug has references
            is_a_reference:
               anyOf:
               -  type: boolean
               -  type: 'null'
               title: Is A Reference
               description: Indicates if this entry is a reference
            pregnancy_category:
               anyOf:
               -  type: string
               -  type: 'null'
               title: Pregnancy Category
               description: FDA pregnancy category (A, B, C, D, X)
            indications:
               anyOf:
               -  type: string
               -  type: 'null'
               title: Indications
               description: Medical conditions the drug treats
            availability:
               anyOf:
               -  type: string
               -  type: 'null'
               title: Availability
               description: Available formulations and strengths
            dose:
               anyOf:
               -  type: string
               -  type: 'null'
               title: Dose
               description: Detailed dosing instructions for adults and children
            contraindications:
               anyOf:
               -  type: string
               -  type: 'null'
               title: Contraindications
               description: Conditions where the drug should not be used
            precautions:
               anyOf:
               -  type: string
               -  type: 'null'
               title: Precautions
               description: Important safety considerations and monitoring requirements
            precautions_appendix:
               anyOf:
               -  type: string
               -  type: 'null'
               title: Precautions Appendix
               description: Detailed interaction information organized by appendices
            adverse_effects:
               anyOf:
               -  type: string
               -  type: 'null'
               title: Adverse Effects
               description: Known side effects and adverse reactions
            storage:
               anyOf:
               -  type: string
               -  type: 'null'
               title: Storage
               description: Storage requirements
            schedule:
               anyOf:
               -  type: string
               -  type: 'null'
               title: Schedule
               description: Drug scheduling classification
            note:
               anyOf:
               -  type: string
               -  type: 'null'
               title: Note
               description: Important clinical notes and warnings
            additional_keys:
               anyOf:
               -  type: string
               -  type: 'null'
               title: Additional Keys
               description: Extended clinical information including combination therapy protocols
            generic_category:
               anyOf:
               -  type: string
               -  type: 'null'
               title: Generic Category
               description: Drug classification (e.g., Anti-Infectives, Analgesics)
            comments:
               anyOf:
               -  type: string
               -  type: 'null'
               title: Comments
               description: Editorial comments and additional notes
         required:
         - generic_name
         - components
         - is_compound
         title: PharmacologyEntry
         type: object
      SNOMEDLinkingList.a9993e3:
         items:
            $ref: '#/components/schemas/SNOMEDLinkingList.a9993e3.SNOMEDLinking'
         title: SNOMEDLinkingList
         type: array
      SNOMEDLinkingList.a9993e3.SNOMEDLinking:
         properties:
            snomed_id:
               title: SNOMED Id
               type: string
               description: The SNOMED ID of the condition
            text:
               title: Text
               type: string
               description: The original text that was linked
            confidence:
               anyOf:
               -  type: number
               -  type: 'null'
               title: Confidence
               description: Confidence score of the SNOMED linking
         required:
         - snomed_id
         - text
         title: SNOMEDLinking
         type: object
   securitySchemes:
      BearerAuth:
         type: http
         scheme: bearer
         bearerFormat: JWT
         description: Enter JWT token
servers:
-  url: https://api.dev.eka.care
   description: Staging Server
-  url: https://api.eka.care
   description: Prod Server
security:
-  BearerAuth: []
